\documentclass{article}
\usepackage{cs170}
\begin{document}

\question{Streaming Integers}
In this problem, we assume we are given an infinite stream of integers $x_1$,$x_2$, $\dots$, and have to perform some computation after each new integer is given.
Since we may see many integers, we want to limit the amount of memory we have to use in total.
For all of the parts below, give a brief description of your algorithm and a brief justification of its correctness.

\begin{subparts}
\subpart Show that using only a single bit of memory, we can compute whether the sum of all integers seen so far is even or odd.

\subpart Show that we can compute whether the sum of all integers seen so far is divisible by some fixed integer $N$ using $O(\log N)$ bits of memory.

\subpart Assume $N$ is prime.
Give an algorithm to check if $N$ divides the product of all integers seen so far, using as few bits of memory as possible.

\subpart Now let $N$ be an arbitrary integer, and suppose we are given its prime factorization: $N = p_1^{k_1}p_2^{k_2}\dots p_r^{k_r}$.
Give an algorithm to check whether $N$ divides the product of all integers seen so far, using as few bits of memory as possible.
Write down the number of bits your algorithm uses in terms of $k_{1},\ldots,k_{r}$.

\end{subparts}

\section{Era of Ravens}
\begin{subparts}
    \subpart Design an algorithm that takes in a stream $z_1,\dots,z_M$ of $M$ integers in $[n]$ and at any time $t$ can output a uniformly random element in $z_1,\dots,z_t$.  Your algorithm may use at most polynomial in $\log n$ and $\log M$ space.  Prove the correctness and analyze the space complexity of your algorithm.  Your algorithm may only take a single pass of the stream.\\
    \emph{Hint: $\frac{1}{t}=1\cdot\frac{1}{2}\cdot\frac{2}{3}\cdot\frac{3}{4}\cdots\frac{t-1}{t}$.}
    \subpart For a stream $S=z_1,\dots,z_{2n}$ of $2n$ integers in $[n]$, we call $j\in[n]$ a \emph{duplicate element} if it occurs more than once.
	
	Prove that $S$ must contain a duplicative element, and design an algorithm that takes in $S$ as input and with probability at least $1-\frac{1}{n}$ outputs a duplicative element.  Your algorithm may use at most polynomial in $\log n$ space.  Prove the correctness and analyze the space complexity of your algorithm.  Your algorithm may only take a single pass of the stream.
	
	\emph{Hint: Use $\log n$ copies of the algorithm from part $a$ to keep track of a random subset of the elements seen so far. For proof of correctness, note that there are at most $n$ indices $t$ such that $z_t \neq z_{t'}$ for any $t' > t$, i.e. element $z_t$ never occurs after index $t$.}
\end{subparts}


\question{Defense Towers}
Please answer the following questions after reading the project specifications. \textbf{Only for the sake of this entire question assume the following input parameters:} $D = 5$, $5 \leq N \leq 10$, $R_s = 1$, $R_p = 2 $
\begin{enumerate}
    \item Consider the input provided below.


    The red dots represent cities, i.e. cities are present at the following coordinates: $(0, 4)$, $(1, 3)$, $(1, 4)$, $(2, 1)$, $(2, 4)$, $(3, 3)$, $(3, 4)$, and $(4, 4)$. Using the output format provided in the spec, write the optimal output for this input. Also compute and state the penalty value based on your optimal output.

\item        Consider a simple greedy algorithm that picks a tower location that covers the most uncovered cities so far and places a tower at that location. Construct a sample input that would cause this greedy algorithm to give a sub-optimal output. Your input can be simply in the form of a diagram representing cities on a $5$ x $5$ grid, as long as the coordinates with cities are clearly distinguished. In your answer include the solution that the greedy algorithm would come up with, the penalty value from that solution, the optimal solution, and the penalty value from that solution.
\end{document}